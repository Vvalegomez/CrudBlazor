@page "/ListaClientes"
@using Data
@using Interfaces
@using Repositorio
@inject IClientesServices ClientesServicio

<h3>ListaClientes</h3>

@if (clientes == null)
{
        <p> <em>Cargando..</em></p>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Email</th>
                <th>Telefono</th>
            </tr>
        </thead>
        <tbody>
            @foreach (Cliente c in clientes)
                {
            <tr>
                <td>@c.Nombre</td>
                <td>@c.Email</td>
                <td>@c.Telefono</td>
            </tr>
                }
        </tbody>
    </table>
}

@code {

    private IEnumerable<Cliente> clientes;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            clientes = await ClientesServicio.DameTodosLosClientes();
        }
        catch
        {

            throw;
        }
    }
}
